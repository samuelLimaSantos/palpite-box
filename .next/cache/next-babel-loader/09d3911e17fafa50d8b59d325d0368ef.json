{"ast":null,"code":"import { GoogleSpreadsheet } from \"google-spreadsheet\";\nimport credentials from \"../../creditials.json\";\nconst doc = new GoogleSpreadsheet(\"1q1_LXvhEEsjjWg1zVxzD3CM1WZ2R9LN_4DKLU2mln7E\");\nexport default (async (request, response) => {\n  try {\n    // await doc.useServiceAccountAuth(credentials);\n    await doc.useServiceAccountAuth({\n      client_email: \"palpitebox@apt-cycling-282305.iam.gserviceaccount.com\",\n      private_key: \"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC3Vd4DvcppVZfV\\nqaNXrEm8+6VjqEwtMPGePAYmCAZ1Hxyi1Guq38FSNY9q6WHU9fDncUKx9/qiiL1d\\nDbTIMIKr1JQ5sMP+c7ejsqVvkmzJJDm97BoWeQnjOzPxp158MvS/nhiwSZDQnB4/\\n1Z2iXY9SvCiXUB1494IbQQyMJeG76djJMjtXuW9PHnssopnXuy4w+NmBvlSGx7XF\\nSv+tljGcsCkDdhx+UYZA/XALLEOpxpiYoEqc04aHBIKIUOaAAH5wg6w2QcT1nA+q\\nEAKzKRjmAT2+qBsPlI2ORIkloVneIX78jj5r6csRdHdt45F154dCAhYsMn5B5UYN\\n4UhEif+DAgMBAAECggEAA+cFAclhbJqQz9B7lJsrOqWUoKltbazUB805SEf1czrF\\nTkX9QLbgk5JmSh1Los/VX+fORqGDqUAF39wx0+0MawHsYcn8cgceipJ76QMR47os\\nrHlBGOdcqYSSF3u7jCM9iHKiDeaS+Y3JKwyt/U3GhjlRF99xsSh7kX7x+G25/1jy\\ntVem7PumU2WbjpggVSPs0OWqtBpZjTowfKftSCvdKGdnw4mA/T6lM2Kqcu5oy/e+\\nh0HEO+VxjMpJTnSWi276OIljIZ/I1xt20q/XXTmt3MKd3WhjckcbX/L+CE8CoT9D\\nmuawZLMozgGFUiLRe7TCZbQOhGsUh803bhBnV92YGQKBgQDe6dCKcl3bD8r5ZASr\\nsqKWehA1Dy0sy5vfhlfo/RUHHFVYOSGE+Ae7okhVXbsMSFkNvznDzNSXL5ar1sh5\\nUs1fwssOrioqq32AdvVWKi1TEgdsL9I2Rb/SpXXv2z0q6IPkZRxqpOqd/Wp/UW6x\\nloGD9+qhOQ2+98NXGZWstYbkvQKBgQDSjC8tBHMDFJR6lvFxH7oXeMr8k2ftoqDJ\\nbatYvGf24p03YmnIYpIDgNHDN0lCsGwqsD1UaI3PLxYaFwjinuG0JaBz30auIPTq\\nMbKc7J9zKrB7fHASLWByaWHHewOqyH2zJuXAzd5rEz7CxaErwCgmcFzIulQaVV+N\\nFzF5YDpZPwKBgFeWecmcjIJh3zhE84zfgQEtbybaEr8SNeoLaIl0wAluOZ6TvDb6\\nGlfAuTlJvhBicRN0uubTmgjZuxNELrt1LJte99iJ2Kmxfnu2wkmcAvksEVySIcAP\\nggLr3r5jX9J3UDOzAwpoSIPRqkHipmMDJ1rKVBgLSfpqcgfMVsJpBVrlAoGBAKz4\\nHYmOLi5JqfFML+4PcoH16ky1jJvdDtpsDmhH3+EjKqVlZCILWIkoOyt1L+pppXMs\\ndjXx7w5WUIH+in4iqKmmf7qxow9KY+pCCcqBWjzyxSmtgSRtwt47VOjcVpbnPtz/\\nB6Dtf9vXY6f/U/jtVA7AIHmHGbDIkkcG1s4wD79hAoGAY0Y5oqRQeQn1hnUDOU1F\\nLeoTSUUyZnJlKqZkub2PJgMtsUhS3S9Zz7P4H02mAxrl4w4ItjrcmQPNm07/loib\\nEhSBlyid28yUfdd0e7H2/rrLJtUPGwx0AK8qfEDHuJCXSfXLp8rqHVmhnuAAJTda\\nKsxn69Kb9pi0IiD0R4JpndI=\\n-----END PRIVATE KEY-----\\n\"\n    });\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[2];\n    await sheet.loadCells(\"A2:B2\");\n    const mostraPromocaoCell = sheet.getCell(1, 0);\n    const textoCell = sheet.getCell(1, 1);\n    response.end(JSON.stringify({\n      showCoupon: mostraPromocaoCell.value === \"VERDADEIRO\",\n      message: textoCell.value\n    }));\n  } catch (err) {\n    response.end(JSON.stringify({\n      showCoupon: false,\n      message: \"\"\n    }));\n  }\n});","map":{"version":3,"sources":["C:/Users/samue/OneDrive/Documentos/Projects/palpite-box/pages/api/get-promo.js"],"names":["GoogleSpreadsheet","credentials","doc","request","response","useServiceAccountAuth","client_email","private_key","loadInfo","sheet","sheetsByIndex","loadCells","mostraPromocaoCell","getCell","textoCell","end","JSON","stringify","showCoupon","value","message","err"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CACV,8CADU,CAAZ;AAIA,gBAAe,OAAOG,OAAP,EAAgBC,QAAhB,KAA6B;AAC1C,MAAI;AACF;AACA,UAAMF,GAAG,CAACG,qBAAJ,CAA0B;AAC9BC,MAAAA,YAAY,EAAE,uDADgB;AAE9BC,MAAAA,WAAW,EACT;AAH4B,KAA1B,CAAN;AAKA,UAAML,GAAG,CAACM,QAAJ,EAAN;AAEA,UAAMC,KAAK,GAAGP,GAAG,CAACQ,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMD,KAAK,CAACE,SAAN,CAAgB,OAAhB,CAAN;AAEA,UAAMC,kBAAkB,GAAGH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAA3B;AACA,UAAMC,SAAS,GAAGL,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAAlB;AAEAT,IAAAA,QAAQ,CAACW,GAAT,CACEC,IAAI,CAACC,SAAL,CAAe;AACbC,MAAAA,UAAU,EAAEN,kBAAkB,CAACO,KAAnB,KAA6B,YAD5B;AAEbC,MAAAA,OAAO,EAAEN,SAAS,CAACK;AAFN,KAAf,CADF;AAMD,GArBD,CAqBE,OAAOE,GAAP,EAAY;AACZjB,IAAAA,QAAQ,CAACW,GAAT,CACEC,IAAI,CAACC,SAAL,CAAe;AACbC,MAAAA,UAAU,EAAE,KADC;AAEbE,MAAAA,OAAO,EAAE;AAFI,KAAf,CADF;AAMD;AACF,CA9BD","sourcesContent":["import { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport credentials from \"../../creditials.json\";\r\n\r\nconst doc = new GoogleSpreadsheet(\r\n  \"1q1_LXvhEEsjjWg1zVxzD3CM1WZ2R9LN_4DKLU2mln7E\"\r\n);\r\n\r\nexport default async (request, response) => {\r\n  try {\r\n    // await doc.useServiceAccountAuth(credentials);\r\n    await doc.useServiceAccountAuth({\r\n      client_email: \"palpitebox@apt-cycling-282305.iam.gserviceaccount.com\",\r\n      private_key:\r\n        \"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC3Vd4DvcppVZfV\\nqaNXrEm8+6VjqEwtMPGePAYmCAZ1Hxyi1Guq38FSNY9q6WHU9fDncUKx9/qiiL1d\\nDbTIMIKr1JQ5sMP+c7ejsqVvkmzJJDm97BoWeQnjOzPxp158MvS/nhiwSZDQnB4/\\n1Z2iXY9SvCiXUB1494IbQQyMJeG76djJMjtXuW9PHnssopnXuy4w+NmBvlSGx7XF\\nSv+tljGcsCkDdhx+UYZA/XALLEOpxpiYoEqc04aHBIKIUOaAAH5wg6w2QcT1nA+q\\nEAKzKRjmAT2+qBsPlI2ORIkloVneIX78jj5r6csRdHdt45F154dCAhYsMn5B5UYN\\n4UhEif+DAgMBAAECggEAA+cFAclhbJqQz9B7lJsrOqWUoKltbazUB805SEf1czrF\\nTkX9QLbgk5JmSh1Los/VX+fORqGDqUAF39wx0+0MawHsYcn8cgceipJ76QMR47os\\nrHlBGOdcqYSSF3u7jCM9iHKiDeaS+Y3JKwyt/U3GhjlRF99xsSh7kX7x+G25/1jy\\ntVem7PumU2WbjpggVSPs0OWqtBpZjTowfKftSCvdKGdnw4mA/T6lM2Kqcu5oy/e+\\nh0HEO+VxjMpJTnSWi276OIljIZ/I1xt20q/XXTmt3MKd3WhjckcbX/L+CE8CoT9D\\nmuawZLMozgGFUiLRe7TCZbQOhGsUh803bhBnV92YGQKBgQDe6dCKcl3bD8r5ZASr\\nsqKWehA1Dy0sy5vfhlfo/RUHHFVYOSGE+Ae7okhVXbsMSFkNvznDzNSXL5ar1sh5\\nUs1fwssOrioqq32AdvVWKi1TEgdsL9I2Rb/SpXXv2z0q6IPkZRxqpOqd/Wp/UW6x\\nloGD9+qhOQ2+98NXGZWstYbkvQKBgQDSjC8tBHMDFJR6lvFxH7oXeMr8k2ftoqDJ\\nbatYvGf24p03YmnIYpIDgNHDN0lCsGwqsD1UaI3PLxYaFwjinuG0JaBz30auIPTq\\nMbKc7J9zKrB7fHASLWByaWHHewOqyH2zJuXAzd5rEz7CxaErwCgmcFzIulQaVV+N\\nFzF5YDpZPwKBgFeWecmcjIJh3zhE84zfgQEtbybaEr8SNeoLaIl0wAluOZ6TvDb6\\nGlfAuTlJvhBicRN0uubTmgjZuxNELrt1LJte99iJ2Kmxfnu2wkmcAvksEVySIcAP\\nggLr3r5jX9J3UDOzAwpoSIPRqkHipmMDJ1rKVBgLSfpqcgfMVsJpBVrlAoGBAKz4\\nHYmOLi5JqfFML+4PcoH16ky1jJvdDtpsDmhH3+EjKqVlZCILWIkoOyt1L+pppXMs\\ndjXx7w5WUIH+in4iqKmmf7qxow9KY+pCCcqBWjzyxSmtgSRtwt47VOjcVpbnPtz/\\nB6Dtf9vXY6f/U/jtVA7AIHmHGbDIkkcG1s4wD79hAoGAY0Y5oqRQeQn1hnUDOU1F\\nLeoTSUUyZnJlKqZkub2PJgMtsUhS3S9Zz7P4H02mAxrl4w4ItjrcmQPNm07/loib\\nEhSBlyid28yUfdd0e7H2/rrLJtUPGwx0AK8qfEDHuJCXSfXLp8rqHVmhnuAAJTda\\nKsxn69Kb9pi0IiD0R4JpndI=\\n-----END PRIVATE KEY-----\\n\",\r\n    });\r\n    await doc.loadInfo();\r\n\r\n    const sheet = doc.sheetsByIndex[2];\r\n    await sheet.loadCells(\"A2:B2\");\r\n\r\n    const mostraPromocaoCell = sheet.getCell(1, 0);\r\n    const textoCell = sheet.getCell(1, 1);\r\n\r\n    response.end(\r\n      JSON.stringify({\r\n        showCoupon: mostraPromocaoCell.value === \"VERDADEIRO\",\r\n        message: textoCell.value,\r\n      })\r\n    );\r\n  } catch (err) {\r\n    response.end(\r\n      JSON.stringify({\r\n        showCoupon: false,\r\n        message: \"\",\r\n      })\r\n    );\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}