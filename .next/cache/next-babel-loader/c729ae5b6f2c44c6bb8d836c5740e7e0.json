{"ast":null,"code":"import { GoogleSpreadsheet } from \"google-spreadsheet\";\nimport credentials from \"../../creditials.json\";\nconst doc = new GoogleSpreadsheet(\"1q1_LXvhEEsjjWg1zVxzD3CM1WZ2R9LN_4DKLU2mln7E\");\nexport default (async (request, response) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[2];\n    await sheet.loadCells(\"A2:B2\");\n    const mostraPromocaoCell = sheet.getCell(1, 0);\n    const textoCell = sheet.getCell(1, 1);\n    response.end(JSON.stringify({\n      showCoupon: mostraPromocaoCell.value === \"VERDADEIRO\",\n      message: textoCell.value\n    }));\n  } catch (err) {\n    response.end(JSON.stringify({\n      showCoupon: false,\n      message: \"\"\n    }));\n  }\n});","map":{"version":3,"sources":["C:/Users/samue/OneDrive/Documentos/Projects/palpite-box/pages/api/get-promo.js"],"names":["GoogleSpreadsheet","credentials","doc","request","response","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","loadCells","mostraPromocaoCell","getCell","textoCell","end","JSON","stringify","showCoupon","value","message","err"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CACV,8CADU,CAAZ;AAIA,gBAAe,OAAOG,OAAP,EAAgBC,QAAhB,KAA6B;AAC1C,MAAI;AACF,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AAEA,UAAMC,KAAK,GAAGL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMD,KAAK,CAACE,SAAN,CAAgB,OAAhB,CAAN;AACA,UAAMC,kBAAkB,GAAGH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAA3B;AAEA,UAAMC,SAAS,GAAGL,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAAlB;AAEAP,IAAAA,QAAQ,CAACS,GAAT,CACEC,IAAI,CAACC,SAAL,CAAe;AACbC,MAAAA,UAAU,EAAEN,kBAAkB,CAACO,KAAnB,KAA6B,YAD5B;AAEbC,MAAAA,OAAO,EAAEN,SAAS,CAACK;AAFN,KAAf,CADF;AAMD,GAhBD,CAgBE,OAAOE,GAAP,EAAY;AACZf,IAAAA,QAAQ,CAACS,GAAT,CACEC,IAAI,CAACC,SAAL,CAAe;AACbC,MAAAA,UAAU,EAAE,KADC;AAEbE,MAAAA,OAAO,EAAE;AAFI,KAAf,CADF;AAMD;AACF,CAzBD","sourcesContent":["import { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport credentials from \"../../creditials.json\";\r\n\r\nconst doc = new GoogleSpreadsheet(\r\n  \"1q1_LXvhEEsjjWg1zVxzD3CM1WZ2R9LN_4DKLU2mln7E\"\r\n);\r\n\r\nexport default async (request, response) => {\r\n  try {\r\n    await doc.useServiceAccountAuth(credentials);\r\n    await doc.loadInfo();\r\n\r\n    const sheet = doc.sheetsByIndex[2];\r\n    await sheet.loadCells(\"A2:B2\");\r\n    const mostraPromocaoCell = sheet.getCell(1, 0);\r\n\r\n    const textoCell = sheet.getCell(1, 1);\r\n\r\n    response.end(\r\n      JSON.stringify({\r\n        showCoupon: mostraPromocaoCell.value === \"VERDADEIRO\",\r\n        message: textoCell.value,\r\n      })\r\n    );\r\n  } catch (err) {\r\n    response.end(\r\n      JSON.stringify({\r\n        showCoupon: false,\r\n        message: \"\",\r\n      })\r\n    );\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}