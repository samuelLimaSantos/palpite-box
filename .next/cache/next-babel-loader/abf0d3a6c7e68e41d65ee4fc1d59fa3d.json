{"ast":null,"code":"import { GoogleSpreadsheet } from \"google-spreadsheet\";\nimport credentials from \"../../creditials.json\";\nexport default (async (request, response) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[1];\n    const data = JSON.parse(request.body); // Nome\tEmail\tWhatsapp\tCupom\tPromo\n\n    await sheet.addRow({\n      Nome: data.Nome,\n      Email: data.Email,\n      Whatsapp: data.Whatsapp,\n      Cupom: \"aaa111\",\n      Promo: \"asfasfsaf\"\n    });\n    response.end(request.body);\n  } catch (err) {\n    console.log(err);\n    response.end(\"Error\");\n  }\n});","map":{"version":3,"sources":["C:/Users/samue/OneDrive/Documentos/Projects/palpite-box/pages/api/save.js"],"names":["GoogleSpreadsheet","credentials","request","response","doc","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","data","JSON","parse","body","addRow","Nome","Email","Whatsapp","Cupom","Promo","end","err","console","log"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AAEA,gBAAe,OAAOC,OAAP,EAAgBC,QAAhB,KAA6B;AAC1C,MAAI;AACF,UAAMC,GAAG,CAACC,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMG,GAAG,CAACE,QAAJ,EAAN;AACA,UAAMC,KAAK,GAAGH,GAAG,CAACI,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWT,OAAO,CAACU,IAAnB,CAAb,CAJE,CAKF;;AACA,UAAML,KAAK,CAACM,MAAN,CAAa;AACjBC,MAAAA,IAAI,EAAEL,IAAI,CAACK,IADM;AAEjBC,MAAAA,KAAK,EAAEN,IAAI,CAACM,KAFK;AAGjBC,MAAAA,QAAQ,EAAEP,IAAI,CAACO,QAHE;AAIjBC,MAAAA,KAAK,EAAE,QAJU;AAKjBC,MAAAA,KAAK,EAAE;AALU,KAAb,CAAN;AAOAf,IAAAA,QAAQ,CAACgB,GAAT,CAAajB,OAAO,CAACU,IAArB;AACD,GAdD,CAcE,OAAOQ,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAjB,IAAAA,QAAQ,CAACgB,GAAT,CAAa,OAAb;AACD;AACF,CAnBD","sourcesContent":["import { GoogleSpreadsheet } from \"google-spreadsheet\";\r\nimport credentials from \"../../creditials.json\";\r\n\r\nexport default async (request, response) => {\r\n  try {\r\n    await doc.useServiceAccountAuth(credentials);\r\n    await doc.loadInfo();\r\n    const sheet = doc.sheetsByIndex[1];\r\n    const data = JSON.parse(request.body);\r\n    // Nome\tEmail\tWhatsapp\tCupom\tPromo\r\n    await sheet.addRow({\r\n      Nome: data.Nome,\r\n      Email: data.Email,\r\n      Whatsapp: data.Whatsapp,\r\n      Cupom: \"aaa111\",\r\n      Promo: \"asfasfsaf\",\r\n    });\r\n    response.end(request.body);\r\n  } catch (err) {\r\n    console.log(err);\r\n    response.end(\"Error\");\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}